<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" InitialTargets="CheckDependencies" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{F4CC3AB2-0DB2-4281-929A-2E68E30F0F6E}</ProjectGuid>
    <RootNamespace>V2LibraryTests</RootNamespace>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Label="Configuration">
    <ConfigurationType>Application</ConfigurationType>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>$(SolutionDir)Source\Common\Include;$(SolutionDir)Examples\Extensibility\CPP;$(SolutionDir)Source\CNTKv2LibraryDll\API;$(SolutionDir)Source\CNTKv2LibraryDll\API\Internals;$(SolutionDir)Source\CNTKv2LibraryDll\;$(BOOST_INCLUDE_PATH)</AdditionalIncludeDirectories>
      <PreprocessorDefinitions>WIN32;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <UseFullPaths>true</UseFullPaths>
    </ClCompile>
    <Link>
      <AdditionalDependencies>kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <AdditionalLibraryDirectories>$(MSMPI_LIB64);$(OutDir);$(BOOST_LIB_PATH)</AdditionalLibraryDirectories>
      <SubSystem>Console</SubSystem>
      <OptimizeReferences>true</OptimizeReferences>
    </Link>
  </ItemDefinitionGroup>
  <ItemGroup>
    <ClInclude Include="Common.h" />
    <ClInclude Include="..\..\EndToEndTests\CNTKv2Library\Common\Image.h" />
    <ClInclude Include="stdafx.h" />
    <ClInclude Include="targetver.h" />
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="BlockTests.cpp" />
    <ClCompile Include="..\..\EndToEndTests\CNTKv2Library\Common\Common.cpp" />
    <ClCompile Include="ConvolutionFunctionTests.cpp" />
    <ClCompile Include="DeviceSelectionTests.cpp" />
    <ClCompile Include="LearnerTests.cpp" />
    <ClCompile Include="LoadLegacyModelTests.cpp" />
    <ClCompile Include="MinibatchSourceTest.cpp" />
    <ClCompile Include="SerializationTests.cpp" />
    <ClCompile Include="FeedForwardTests.cpp" />
    <ClCompile Include="FunctionTests.cpp" />
    <ClCompile Include="NDArrayViewTests.cpp" />
    <ClCompile Include="RecurrentFunctionTests.cpp" />
    <ClCompile Include="TensorTests.cpp" />
    <ClCompile Include="UserDefinedFunctionTests.cpp" />
    <ClCompile Include="ValueTests.cpp" />
    <ClCompile Include="stdafx.cpp">
      <PrecompiledHeader>Create</PrecompiledHeader>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <None Include="data\batch.norm.no.sample.count.v1.bin" />
    <None Include="data\batch.norm.no.sample.count.v2.bin" />
    <None Include="data\future.dictionary.proto.bin" />
    <None Include="data\learner.checkpoint.backcompat.bin" />
    <None Include="data\past.dictionary.proto.bin" />
    <None Include="data\v2.0.beta1.0.dictionary.proto.bin" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\..\Source\CNTKv2LibraryDll\CNTKv2LibraryDll.vcxproj">
      <Project>{e5606ece-48ca-4464-bb12-09d81d02b9ef}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\..\Source\CNTK\CNTK.vcxproj">
      <Project>{e6f26f9a-ff64-4f0a-b749-cd309ee357ee}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\..\Source\Readers\CNTKTextFormatReader\CNTKTextFormatReader.vcxproj">
      <Project>{91973e60-a7be-4c86-8fdb-59c88a0b3715}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\..\Source\Readers\CompositeDataReader\CompositeDataReader.vcxproj">
      <Project>{7b7a563d-aa8e-4660-a805-d50235a02120}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\..\Source\Readers\HTKDeserializers\HTKDeserializers.vcxproj">
      <Project>{7b7a51ed-aa8e-4660-a805-d50235a02120}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\..\Source\Readers\HTKMLFReader\HTKMLFReader.vcxproj">
      <Project>{33d2fd22-def2-4507-a58a-368f641aebe5}</Project>
    </ProjectReference>
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <Target Name="Build" Condition="$(HasBoost)" Outputs="$(TargetPath)" DependsOnTargets="$(BuildDependsOn)" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
  <Target Name="CheckDependencies">
    <Error Condition="!$(HasBoost)" Text="V2LibraryTests requires the Boost library to build. Please see https://docs.microsoft.com/en-us/cognitive-toolkit/Setup-CNTK-on-Windows#boost for installation instructions." />
  </Target>
</Project>